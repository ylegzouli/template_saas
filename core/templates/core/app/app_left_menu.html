{% load static %}
<div class="flex h-full flex-col justify-between rounded-lg  border-black bg-white">
  <div class="px-4 py-6">
    <span class="grid h-10 w-48 place-content-center rounded-lg">
      <img src="{% static 'images/logo.png' %}" alt="" class="mt-3 w-28" />
    </span>

    <ul class="mt-6 space-y-1 mt-6 border-t pt-6">
      <li class="mb-2">
        <div role="button"
          data-page="ecommerce"
          class="page-button block rounded-lg px-4 py-2 text-sm font-medium text-gray-700"
          hx-get="/app/e-commerce"
          hx-params="hx_menu_request" 
          hx-push-url="true" 
          hx-target="#content-div" 
          hx-swap="innerHTML"
          hx-indicator="#content-div">ğŸ›’ E-commerce shops</div>
      </li>

      <li class="mb-2">
        <div role="button"
          data-page="gmap"
          class="page-button block rounded-lg px-4 py-2 text-sm font-medium text-gray-700"
          hx-get="/app/gmap"
          hx-params="hx_menu_request"
          hx-push-url="true" 
          hx-target="#content-div" 
          hx-swap="innerHTML"
          hx-indicator="#content-div">ğŸŒ Google map</div>
      </li>

      <li class="mb-2">
        <div role="button"
          class="page-button block rounded-lg px-4 py-2 text-sm font-medium text-gray-700"
        >ğŸª Trade fair</div>
      </li>

      <li class="mb-2">
        <div role="button"
          class="page-button block rounded-lg px-4 py-2 text-sm font-medium text-gray-700"
        >ğŸ› Online Marketplaces</div>
      </li>

    </ul>
  </div>

  <div id="user-section" class="sticky bottom-8 inset-x-0 border-t border-gray-100 bg-white mt-2">
    <a href="/logout" class="flex items-center gap-2 p-4 hover:bg-gray-50">
      <img
        src="https://images.unsplash.com/photo-1600486913747-55e5470d6f40?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80"
        alt=""
        class="h-10 w-10 rounded-full object-cover"
      />
      <div>
        <p class="text-xs">
          <strong class="block font-medium">{{ user.username }}</strong>
          <span> {{ user.email }} </span>
        </p>
      </div>
    </a>
  </div>
</div>


<script>
  document.addEventListener("DOMContentLoaded", function() {
      // Function to update button styles based on the current URL
      function highlightCurrentButton() {
          const pageButtons = document.querySelectorAll('.page-button');
          const currentPath = window.location.pathname;
  
          pageButtons.forEach(button => {
              const pagePath = button.getAttribute('hx-get');
  
              // Reset all buttons to their default state
              button.classList.remove('bg-blue-100');
              // button.classList.add('bg-gray-100');
  
              // Highlight the button if its hx-get attribute matches the current URL
              if (currentPath.includes(pagePath)) {
                  // button.classList.remove('bg-gray-100');
                  button.classList.add('bg-blue-100');
              }
          });
      }
  
      // Function to manually update button styles when clicked
      function updateButtonStylesOnClick() {
          const pageButtons = document.querySelectorAll('.page-button');
  
          pageButtons.forEach(button => {
              button.addEventListener('click', function() {
                  // Reset all buttons to their default state
                  pageButtons.forEach(btn => {
                      btn.classList.remove('bg-blue-100');
                      // btn.classList.add('bg-gray-100');
                  });
  
                  // Highlight the clicked button
                  // this.classList.remove('bg-gray-100');
                  this.classList.add('bg-blue-100');
              });
          });
      }
  
      // Highlight the correct button on page load
      highlightCurrentButton();
  
      // Attach click event listeners to all buttons for immediate style update
      updateButtonStylesOnClick();
  });
  </script>
  
  